language: python
python:
- 2.7
- 3.5
env:
- DJANGO="Django>=1.8,<1.9"
- DJANGO="Django>=1.9,<1.10"
- DJANGO="Django --pre"
install:
- pip install -q $DJANGO coveralls
script:
- coverage run --source=axes runtests.py
- coverage report
after_success:
- coveralls
deploy:
  provider: pypi
  user: jazzband
  distributions: sdist bdist_wheel
  password:
    secure: KR7AiS0+1WHkDLKV6eru4l1VOuO1DvVuYiRr4UWqFa9tjgN0ZH4itJkw/LSMRHof9fvg8ZWvPxsb3ifM2lXv7Nrk81fv97MO8XbLdVyF5xyvVEYOii0cu4ffxttj7BjL6aRDrpdG0OqayCsXYgkXngC7zdBrdLxKOq7CIbJ6oUo=
  on:
    tags: true
    repo: jazzband/django-axes
    condition: $DJANGO = "Django>=1.8,<1.9"
    python: "2.7"
